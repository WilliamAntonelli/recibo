<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Recibo Edit√°vel - Sabor da Ro√ßa</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 20px;
    }
    .recibo {
        border: 2px solid #333;
        padding: 20px;
        max-width: 700px;
        margin: 0 auto;
        line-height: 1.6;
        white-space: pre-wrap;
        word-wrap: break-word;
    }
    h1 {
        text-align: center;
        font-size: 1.5em;
    }
    p {
        margin: 10px 0;
    }
    input, textarea {
        border: none;
        border-bottom: 1px solid #000;
        font-size: 1em;
        width: 100%;
        padding: 2px 5px;
        font-family: Arial, sans-serif;
        box-sizing: border-box;
    }
    textarea {
        resize: vertical;
    }
    .assinatura {
        text-align: right;
        margin-top: 50px;
        font-weight: bold;
    }
    .btn-container {
        text-align: center;
        margin-top: 20px;
    }
    button {
        padding: 10px 15px;
        font-size: 1em;
        cursor: pointer;
    }
    /* Responsivo */
    @media (max-width: 768px) {
        .recibo {
            width: 95%;
            padding: 15px;
        }
    }
</style>
</head>
<body>

<h1>RECIBO</h1>

<div id="recibo" class="recibo">
<p><strong>Sabor da Ro√ßa</strong></p>
<p>CNPJ: <input type="text" id="cnpj" value="58.81.685/0001-82"></p>

<p>Eu, <input type="text" id="recebedor" placeholder="Nome completo do recebedor" value="Flavia Aparecida de Souza">, recebi a quantia de R$ 
<input type="text" id="valor" placeholder="Valor" value="980,00"> (<input type="text" id="valorExtenso" placeholder="Valor por extenso" value="novecentos e oitenta reais">), da 
<input type="text" id="pagador" placeholder="Nome do pagador" value="Par√≥quia Nossa Senhora M√£e dos Homens">, referente √† 
<input type="text" id="motivo" placeholder="Motivo do pagamento" value="venda de bolos">.</p>

<p>Por ser verdade, firmamos o presente recibo para os devidos fins,</p>

<p><input type="text" id="cidade" placeholder="Cidade" value="Urubici">, <input type="text" id="data" placeholder="Data"></p>

<p class="assinatura"><input type="text" id="assinatura" placeholder="Assinatura" value="Flavia Aparecida de Souza"></p>
</div>

<div class="btn-container">
    <button id="btnPDF">üìÑ Gerar PDF</button>
</div>

<script>
// Fun√ß√£o para criar data no formato: dia, m√™s por extenso, ano
function formatarData() {
    const dataInput = prompt("Digite a data no formato DD/MM/AAAA:");
    if (!dataInput) return "";
    const partes = dataInput.split("/");
    if (partes.length !== 3) return "";
    const meses = ["janeiro","fevereiro","mar√ßo","abril","maio","junho",
                   "julho","agosto","setembro","outubro","novembro","dezembro"];
    const dia = partes[0].padStart(2,"0");
    const mes = meses[parseInt(partes[1],10)-1] || "";
    const ano = partes[2];
    return `${dia} de ${mes} de ${ano}`;
}

// Coloca a data automaticamente quando o campo √© clicado
document.getElementById("data").addEventListener("focus", function() {
    this.value = formatarData();
});

document.getElementById("btnPDF").addEventListener("click", function () {
    const reciboDiv = document.getElementById("recibo");
    const clone = reciboDiv.cloneNode(true);

    clone.querySelectorAll("input, textarea").forEach(function(el){
        const span = document.createElement("span");
        span.textContent = el.value || el.placeholder;
        el.parentNode.replaceChild(span, el);
    });

    html2pdf(clone, {
        margin:       0.5,
        filename:     'recibo.pdf',
        image:        { type: 'jpeg', quality: 0.98 },
        html2canvas:  { scale: 2 },
        jsPDF:        { unit: 'in', format: 'a4', orientation: 'portrait' }
    });
});
</script>

</body>
</html>
